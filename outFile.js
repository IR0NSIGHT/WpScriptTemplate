//script.name=WpScriptTemplate v1.0.0 by IR0NSIGHT
//script.description=a template repo to develop worldpainter scripts in typescript
./src/header.js
//script.name=WpScriptTemplate v1.0.0 by IR0NSIGHT
//script.description=
./outFile.js
Prepended text: !function(){"use strict";var n=function(n,e){return dimension.getLayerValueAt(org.pepsoft.worldpainter.layers.Biome.INSTANCE,n,e)},e=function(n,e){return n<0||n>=e.length?"invalid biome":null==e[n]&&255==n?"autobiome":null==e[n]?"unknown":e[n]};function t(n){print(n)}for(var r={start:{x:128*dimension.getLowestX(),y:128*dimension.getLowestY()},end:{x:128*(dimension.getHighestX()+1)-1,y:128*(dimension.getHighestY()+1)-1}},o=r.start,i=r.end,a=params.mcVersion,u=[],s=0;s<256;s++)u.push(0);for(var c=o.x;c<i.x;c+=4)for(var m=o.y;m<i.y;m+=4){u[n(c,m)]+=16}var p,f,d=(i.x-o.x)*(i.y-o.y),l=function(n){if(n>=19)return org.pepsoft.worldpainter.biomeschemes.Minecraft1_19Biomes.BIOME_NAMES;if(n>=17)return org.pepsoft.worldpainter.biomeschemes.Minecraft1_17Biomes.BIOME_NAMES;if(n>=7)return org.pepsoft.worldpainter.biomeschemes.Minecraft1_7Biomes.BIOME_NAMES;throw new Error("unsupported mc version")}(a),g=u.map((function(n,t){return{id:t,count:n,name:e(t,l)}})).filter((function(n){return n.count>0})).sort((function(n,e){return e.count-n.count})).map((function(n){return{name:n.name,count:n.count.toLocaleString(),percent:(n.count/d*100).toFixed(2)+"%",id:n.id}}));params.pretty?t((p=g,f=Math.max.apply(Math,p.map((function(n){return n.name.length}))),p.map((function(n){return function(n,e){return"".concat((t=n.name+":",r=e+1,o=" ",void 0===o&&(o=" "),t+o.repeat(r-t.length))," ").concat(n.percent);var t,r,o}(n,f)})).join("\n"))):t("biomes: "+JSON.stringify(g,void 0,2))}();